{% block content %}

<div class="container mt-4">
    <h2>Book {{ worker.user.username }}</h2>

    <form id="bookingForm" method="POST">
        {% csrf_token %}
        <div class="mb-3">
            <label class="form-label">Name:</label>
            <input type="text" class="form-control" value="{{ request.user.username }}" readonly>
        </div>

        <div class="mb-3">
            <label class="form-label">Email:</label>
            <input type="email" class="form-control" value="{{ request.user.email }}" readonly>
        </div>

        <div class="mb-3">
            <label class="form-label">District:</label>
            <input type="text" class="form-control" value="{{ request.user.district }}" readonly>
        </div>

        <div class="mb-3">
            <label class="form-label">Place:</label>
            <input type="text" class="form-control" value="{{ request.user.place }}" readonly>
        </div>

        <div class="mb-3">
            <label class="form-label">House Name:</label>
            <input type="text" class="form-control" value="{{ request.user.housename }}" readonly>
        </div>

        <div class="mb-3">
            <label class="form-label">Expected Date:</label>
            {{ form.expected_date }}
        </div>

        <button type="button" class="btn btn-success" onclick="confirmBooking()">Confirm Booking</button>
    </form>
</div>

<script>
    function confirmBooking() {
        let confirmation = confirm("Are you sure you want to book this worker?");
        if (confirmation) {
            document.getElementById("bookingForm").submit();
        } else {
            window.location.href = "{% url 'worker_list' service_id=worker.services.first.id %}"; 
        }
    }
</script>

{% endblock %}
