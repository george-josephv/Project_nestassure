{% comment %} {% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Details</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { font-family: Arial, sans-serif; background: #f5f5f5; text-align: center; padding: 20px; }
        .container { max-width: 700px; margin: auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); }
        .form-group { text-align: left; margin-bottom: 15px; }
        .form-group label { font-weight: bold; }
        .form-group input { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 5px; background: #f9f9f9; }
        .btn-pay { padding: 10px 20px; background: blue; color: white; border: none; border-radius: 5px; cursor: pointer; }
        .btn-pay:hover { background: darkblue; }
        .popup { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.3); text-align: center; }
        .popup img { width: 200px; height: 200px; margin-bottom: 10px; }
        .popup .close { background: red; color: white; border: none; padding: 5px 10px; cursor: pointer; }
    </style>
    <script>
        function showPaymentPopup() {
            document.getElementById("paymentPopup").style.display = "block";
        }

        function confirmPayment() {
            document.getElementById("paymentPopup").style.display = "none";
            alert("Payment successful!");
            window.location.href = "{% url 'payment_success' booking.id %}"; // Redirect to a success page
        }
    </script>
</head>
<body>

<div class="container">
    <h2>Payment Details</h2>

    <div class="form-group">
        <label>Booking ID:</label>
        <input type="text" value="{{ booking.id }}" disabled>
    </div>
    <div class="form-group">
        <label>Service Booked:</label>
        <input type="text" value="{{ booking.service.service_name }}" disabled>
    </div>
    <div class="form-group">
        <label>Worker Name:</label>
        <input type="text" value="{{ booking.worker.user.first_name }} {{ booking.worker.user.last_name }}" disabled>
    </div>
    <div class="form-group">
        <label>Address:</label>
        <input type="text" value="{{ booking.worker.user.state }}, {{ booking.worker.user.district }}, {{ booking.worker.user.place }}, {{ booking.worker.user.housename }}" disabled>
    </div>
    <div class="form-group">
        <label>Expected Date:</label>
        <input type="text" value="{{ booking.expected_date }}" disabled>
    </div>
    <div class="form-group">
        <label>Work Status:</label>
        <input type="text" value="{{ booking.status }}" disabled>
    </div>
    <div class="form-group">
        <label>Rate per Hour:</label>
        <input type="text" value="₹{{ booking.service.rate_per_hour }}" disabled>
    </div>
    <div class="form-group">
        <label>Total Time (Hours & Minutes):</label>
        <input type="text" value="{{ payment.total_hours }} hrs {{ payment.total_minutes }} mins" disabled>
    </div>
    <div class="form-group">
        <label>Total Amount:</label>
        <input type="text" value="₹{{ payment.total_amount }}" disabled>
    </div>

    <button class="btn-pay" onclick="showPaymentPopup()">Go to Pay</button>
</div>

<!-- Payment Popup -->
<div class="popup" id="paymentPopup">
    <h3>Scan to Pay</h3>
    <img src="{% static 'images/qr_code.jpg' %}" alt="QR Code">
    <p><b>UPI ID</b> nestassurejdgs@oksbi</p>
    <button class="btn-pay" onclick="confirmPayment()">OK</button>
    <button class="close" onclick="document.getElementById('paymentPopup').style.display='none'">Cancel</button>
</div>

</body>
</html> {% endcomment %}
